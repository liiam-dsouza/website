---
import Tag from "./Tag.astro"

interface ExperienceItem {
  role: string
  company: string
  startDate: string
  endDate: string | null
  description: string
  skills?: string[]
}

interface Props {
  items: ExperienceItem[]
}

const { items } = Astro.props as Props
---

<ol class="relative border-l-4 border-neutral-200 border-dashed">
  {items.map((item) => (
    <li class="mb-10 ml-6">
        <div class="relative">
      {/* Timeline dot */}
      <span class="absolute -left-8 top-[0.65em] flex h-3 w-3 items-center justify-center rounded-full bg-primary" />

      {/* Header */}
      <div class="flex flex-col gap-1">
        <h3 class="text-lg font-semibold">
          {item.role}
        </h3>

        <p class="text-sm text-neutral-600">
          {item.company}
        </p>

        {/* Date placeholder */}
        <span class="text-xs text-neutral-500">
          [DATE]
        </span>
      </div>
      </div>

      {/* Description */}
      <p class="mt-3 text-sm leading-relaxed text-neutral-500">
        {item.description}
      </p>

      {/* Skills */}
      {item.skills && item.skills.length > 0 && (
        <ul class="mt-3 flex flex-wrap gap-2">
          {item.skills.map((skill) => (
            <li>
              <Tag>{skill}</Tag>
            </li>
          ))}
        </ul>
      )}
    </li>
  ))}
</ol>
